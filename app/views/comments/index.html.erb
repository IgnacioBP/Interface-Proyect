<p style="color: green"><%= notice %></p>

<h1>Comments</h1>

<div id="comments">
  <h2>Comentando en el quack: </h2>
  
  <!-- Card del tweet -->
  <div class="tweet-container">
    <div class="card mb-4">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0"><%= @tweet.user.full_name %></h5>
          <small class="text-muted"><%= @tweet.creation_date %></small>
        </div>
        <p class="card-text mt-3"><%= @tweet.body %></p>
        <div id="reaction-display-<%= @tweet.id %>" class="mt-3">
          <%= render partial: 'tweets/reaction_display', locals: { tweet: @tweet, reaction_levels: ReactionLevel.all, current_user: current_user } %>
        </div>
      </div>
    </div>
  </div>

  <!-- Agregar botón de comentar -->
  <div class="text-center mt-3">
    <%= link_to 'Comentar', new_tweet_comment_path(@tweet), class: 'btn btn-primary' %>
  </div>

  <!-- Mostrar comentarios o mensaje de "No hay comentarios" -->
  <% if @comments.present? %>
    <% @comments.each do |comment| %>
      <div class="tweet-container">
        <div class="card mb-4">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="card-title mb-0"><%= comment.user.full_name %></h5>
              <small class="text-muted"><%= comment.created_at %></small>
            </div>
            <p class="card-text mt-3"><%= comment.content %></p>
          </div>
        </div>
      </div>
    <% end %>
  <% else %>
    <!-- Nueva card solo para la imagen y el mensaje de "No hay comentarios" -->
    <div class="no-comments-container">
      <div class="card mb-4">
        <div class="card-body text-center">
          <p>No hay comentarios todavía.</p>
          <%= image_tag("QuaTriste.png", alt: "No comments", class: "no-comments-image") %>
        </div>
      </div>
    </div>
  <% end %>

</div>

<style>
  .container {
    display: flex;
    justify-content: center;
  }

  .tweet-container {
    position: relative;
  }

  .card {
    max-width: 1000px;
    width: 100%;
    border: none;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  .card-title {
    font-size: 18px;
    font-weight: bold;
  }

  .card-text {
    font-size: 16px;
    line-height: 1.6;
  }

  .text-muted {
    font-size: 14px;
  }

  .reaction-emoji {
    font-size: 20px;
  }

  .dropdown-menu {
    position: absolute;
    min-width: 100px;
    padding: 0;
    border: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  .dropdown-item {
    font-size: 20px;
    text-align: center;
    padding: 10px;
  }

  .show {
    display: block;
  }
  
  .reaction-dropdown {
    min-width: 100px;
  }

  .reaction-emoji {
    font-size: 20px;
    text-align: center;
    padding: 5px;
  }

  .no-comments-container {
    margin-top: 20px;
  }

  .no-comments-image {
    max-width: 200px;
    margin-top: 10px;
  }
</style>
